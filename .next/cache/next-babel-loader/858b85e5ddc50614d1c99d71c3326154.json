{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/home/alexis/\\u0420\\u0430\\u0431\\u043E\\u0447\\u0438\\u0439 \\u0441\\u0442\\u043E\\u043B/MyPlates/0.NextJs/ts-minin/pages/posts/index.tsx\";\nimport { useState, useEffect } from 'react';\nimport Link from 'next/link';\nimport Router from 'next/router';\nimport MainLayout from '../../components/MainLayout';\n\nconst Posts = ({\n  posts: serverPosts\n}) => {\n  const {\n    0: posts,\n    1: setPosts\n  } = useState(serverPosts);\n  useEffect(() => {\n    async function load() {\n      const res = await fetch('http://localhost:3001/posts');\n      const body = await res.json();\n      setPosts(body);\n    }\n\n    if (!serverPosts) {\n      load();\n    }\n  }, []);\n\n  if (!posts) {\n    return /*#__PURE__*/_jsxDEV(MainLayout, {\n      children: /*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Loading posts...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 29,\n        columnNumber: 5\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 4\n    }, this);\n  }\n\n  return /*#__PURE__*/_jsxDEV(MainLayout, {\n    title: \"Posts page\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Posts page\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(\"pre\", {\n      children: /*#__PURE__*/_jsxDEV(\"ul\", {\n        children: posts.map(post => /*#__PURE__*/_jsxDEV(Link, {\n          href: `/post/${post.id}`,\n          children: /*#__PURE__*/_jsxDEV(\"li\", {\n            style: {\n              background: 'pink',\n              padding: '5px',\n              marginBottom: '1px',\n              listStyleType: 'none'\n            },\n            children: /*#__PURE__*/_jsxDEV(\"span\", {\n              children: post.title\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 51,\n              columnNumber: 9\n            }, this)\n          }, post.id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 42,\n            columnNumber: 8\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 41,\n          columnNumber: 7\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 5\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(Link, {\n      href: \"/\",\n      children: /*#__PURE__*/_jsxDEV(\"a\", {\n        children: \"Link home\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 5\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: () => Router.push('/'),\n      children: \"Router go home\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 4\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 35,\n    columnNumber: 3\n  }, this);\n};\n\nPosts.getInitialProps = async ({\n  req\n}) => {\n  if (!req) {\n    return {\n      posts: null\n    };\n  }\n\n  const res = await fetch('http://localhost:3001/posts');\n  const posts = await res.json();\n  return {\n    posts\n  };\n};\n\nexport default Posts;","map":{"version":3,"sources":["/home/alexis/Рабочий стол/MyPlates/0.NextJs/ts-minin/pages/posts/index.tsx"],"names":["useState","useEffect","Link","Router","MainLayout","Posts","posts","serverPosts","setPosts","load","res","fetch","body","json","map","post","id","background","padding","marginBottom","listStyleType","title","push","getInitialProps","req"],"mappings":";;AAAA,SAASA,QAAT,EAAmBC,SAAnB,QAAoC,OAApC;AAEA,OAAOC,IAAP,MAAiB,WAAjB;AACA,OAAOC,MAAP,MAAmB,aAAnB;AACA,OAAOC,UAAP,MAAuB,6BAAvB;;AAOA,MAAMC,KAAK,GAAG,CAAC;AAAEC,EAAAA,KAAK,EAAEC;AAAT,CAAD,KAA4B;AACzC,QAAM;AAAA,OAACD,KAAD;AAAA,OAAQE;AAAR,MAAoBR,QAAQ,CAACO,WAAD,CAAlC;AAEAN,EAAAA,SAAS,CAAC,MAAM;AACf,mBAAeQ,IAAf,GAAsB;AACrB,YAAMC,GAAG,GAAG,MAAMC,KAAK,CAAC,6BAAD,CAAvB;AACA,YAAMC,IAAI,GAAG,MAAMF,GAAG,CAACG,IAAJ,EAAnB;AACAL,MAAAA,QAAQ,CAACI,IAAD,CAAR;AACA;;AACD,QAAI,CAACL,WAAL,EAAkB;AACjBE,MAAAA,IAAI;AACJ;AACD,GATQ,EASN,EATM,CAAT;;AAWA,MAAI,CAACH,KAAL,EAAY;AACX,wBACC,QAAC,UAAD;AAAA,6BACC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA,YADD;AAKA;;AAED,sBACC,QAAC,UAAD;AAAY,IAAA,KAAK,EAAC,YAAlB;AAAA,4BACC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YADD,eAEC;AAAA;AAAA;AAAA;AAAA,YAFD,eAGC;AAAA,6BACC;AAAA,kBACEA,KAAK,CAACQ,GAAN,CAAWC,IAAD,iBACV,QAAC,IAAD;AAAM,UAAA,IAAI,EAAG,SAAQA,IAAI,CAACC,EAAG,EAA7B;AAAA,iCACC;AAEC,YAAA,KAAK,EAAE;AACNC,cAAAA,UAAU,EAAE,MADN;AAENC,cAAAA,OAAO,EAAE,KAFH;AAGNC,cAAAA,YAAY,EAAE,KAHR;AAINC,cAAAA,aAAa,EAAE;AAJT,aAFR;AAAA,mCASC;AAAA,wBAAOL,IAAI,CAACM;AAAZ;AAAA;AAAA;AAAA;AAAA;AATD,aACMN,IAAI,CAACC,EADX;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA,gBADA;AADF;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA,YAHD,eAsBC;AAAA;AAAA;AAAA;AAAA,YAtBD,eAuBC,QAAC,IAAD;AAAM,MAAA,IAAI,EAAC,GAAX;AAAA,6BACC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA,YAvBD,eA0BC;AAAA;AAAA;AAAA;AAAA,YA1BD,eA2BC;AAAQ,MAAA,OAAO,EAAE,MAAMb,MAAM,CAACmB,IAAP,CAAY,GAAZ,CAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YA3BD;AAAA;AAAA;AAAA;AAAA;AAAA,UADD;AA+BA,CArDD;;AAuDAjB,KAAK,CAACkB,eAAN,GAAwB,OAAO;AAAEC,EAAAA;AAAF,CAAP,KAAmB;AAC1C,MAAI,CAACA,GAAL,EAAU;AACT,WAAO;AAAElB,MAAAA,KAAK,EAAE;AAAT,KAAP;AACA;;AACD,QAAMI,GAAG,GAAG,MAAMC,KAAK,CAAC,6BAAD,CAAvB;AACA,QAAML,KAAK,GAAG,MAAMI,GAAG,CAACG,IAAJ,EAApB;AAEA,SAAO;AAAEP,IAAAA;AAAF,GAAP;AACA,CARD;;AAUA,eAAeD,KAAf","sourcesContent":["import { useState, useEffect } from 'react'\n\nimport Link from 'next/link'\nimport Router from 'next/router'\nimport MainLayout from '../../components/MainLayout'\nimport { MyPost } from '../../interfaces/post'\n\ninterface PostsPageProps {\n\tposts: MyPost[]\n}\n\nconst Posts = ({ posts: serverPosts }) => {\n\tconst [posts, setPosts] = useState(serverPosts)\n\n\tuseEffect(() => {\n\t\tasync function load() {\n\t\t\tconst res = await fetch('http://localhost:3001/posts')\n\t\t\tconst body = await res.json()\n\t\t\tsetPosts(body)\n\t\t}\n\t\tif (!serverPosts) {\n\t\t\tload()\n\t\t}\n\t}, [])\n\n\tif (!posts) {\n\t\treturn (\n\t\t\t<MainLayout>\n\t\t\t\t<h1>Loading posts...</h1>\n\t\t\t</MainLayout>\n\t\t)\n\t}\n\n\treturn (\n\t\t<MainLayout title='Posts page'>\n\t\t\t<h1>Posts page</h1>\n\t\t\t<hr />\n\t\t\t<pre>\n\t\t\t\t<ul>\n\t\t\t\t\t{posts.map((post) => (\n\t\t\t\t\t\t<Link href={`/post/${post.id}`}>\n\t\t\t\t\t\t\t<li\n\t\t\t\t\t\t\t\tkey={post.id}\n\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\tbackground: 'pink',\n\t\t\t\t\t\t\t\t\tpadding: '5px',\n\t\t\t\t\t\t\t\t\tmarginBottom: '1px',\n\t\t\t\t\t\t\t\t\tlistStyleType: 'none',\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<span>{post.title}</span>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t</Link>\n\t\t\t\t\t))}\n\t\t\t\t</ul>\n\t\t\t</pre>\n\t\t\t<hr />\n\t\t\t<Link href='/'>\n\t\t\t\t<a>Link home</a>\n\t\t\t</Link>\n\t\t\t<br />\n\t\t\t<button onClick={() => Router.push('/')}>Router go home</button>\n\t\t</MainLayout>\n\t)\n}\n\nPosts.getInitialProps = async ({ req }) => {\n\tif (!req) {\n\t\treturn { posts: null }\n\t}\n\tconst res = await fetch('http://localhost:3001/posts')\n\tconst posts = await res.json()\n\n\treturn { posts }\n}\n\nexport default Posts\n"]},"metadata":{},"sourceType":"module"}